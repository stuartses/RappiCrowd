DJANGO NEEDS csrf_token WITH POST REQUEST

https://docs.djangoproject.com/en/3.0/ref/csrf/
https://stackoverrun.com/es/q/2813715

In webpage import scripts/getcokie.js
* after:

let csrftoken = getCookie('csrftoken');

* in fetch function (React):

fetch(url, {
    credentials: 'include',
    method: 'POST',
    mode: 'same-origin',
    headers: {
      'Accept': 'application/json',
      'Content-Type': 'application/json',
      'X-CSRFToken': csrftoken
    },
    body: {}
   })
  }


* in curl:

get the cookie:
curl -c cookie.txt 'http://127.0.0.1:8000/personins/'

open cookie.txt and copy the csrftoken
example:
 csrftoken	uzUAIlb2TTLdvemG2dWvXR3TWv349ffRXNXd2Ir8xMmYt3tmYom0010EtThDLqEw

Now pass it in the POST request

curl --cookie cookie.txt -H 'X-CSRFToken: uzUAIlb2TTLdvemG2dWvXR3TWv349ffRXNXd2Ir8xMmYt3tmYom0010EtThDLqEw' -X POST 'http://127.0.0.1:8000/personins/load/' -d 'user_name=michi&profile=miau' 
